---
import Layout from "@/layouts/Layout.astro";
import FormReactIsland from "@/components/FormReactIsland";
import {
  Card,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Toaster } from "@/components/ui/sonner";

export function getStaticPaths() {
  return [
    { params: { slug: "sistema-digestivo-humano" } },
    { params: { slug: "sistema-nervioso-humano" } },
  ];
}

const simulatedResponseApi = {
  title: "Sistema Nervioso Humano",
  description: `El Sistema Nervioso Humano es una de las estructuras m치s complejas
              y esenciales del cuerpo, encargado de coordinar y regular todas
              las funciones vitales. La interacci칩n del sistema nervioso con
              otros sistemas del cuerpo. Enfermedades neurol칩gicas comunes y su
              impacto en la salud. El objetivo de esta evaluaci칩n es reforzar la
              comprensi칩n del papel fundamental que juega el sistema nervioso en
              el control de los procesos f칤sicos y cognitivos del ser humano. 游`,
  questions: [
    {
      type: "open",
      label:
        "쮺u치l es la funci칩n principal del sistema nervioso en el cuerpo humano?",
    },
    {
      type: "single_choice",
      label:
        "쮺u치l de las siguientes estructuras forma parte del sistema nervioso central?",
      options: [
        "M칠dula espinal",
        "Nervios perif칠ricos",
        "Gl치ndulas endocrinas",
        "M칰sculos esquel칠ticos",
      ],
    },
    {
      type: "multiple_choice",
      label: "쮺u치les de las siguientes son funciones del sistema nervioso?",
      options: [
        "Controlar los movimientos del cuerpo",
        "Regular la digesti칩n de los alimentos",
        "Transportar ox칤geno en la sangre",
        "Interpretar est칤mulos sensoriales",
      ],
    },
    {
      type: "open",
      label:
        "Explica la diferencia entre el sistema nervioso central y el sistema nervioso perif칠rico.",
    },
    {
      type: "single_choice",
      label: "쮺u치l es la unidad funcional del sistema nervioso?",
      options: ["Neurona", "Sinapsis", "Ax칩n", "Cerebelo"],
    },
    {
      type: "open",
      label:
        "쯈u칠 es una sinapsis y cu치l es su funci칩n en la comunicaci칩n neuronal?",
    },
    {
      type: "multiple_choice",
      label:
        "쮺u치les de las siguientes enfermedades afectan el sistema nervioso?",
      options: ["Alzheimer", "Diabetes", "Esclerosis m칰ltiple", "Parkinson"],
    },
    {
      type: "matching",
      label: "Relaciona cada estructura con su funci칩n correspondiente:",
      options: [
        "Cerebelo",
        "Hipot치lamo",
        "Tronco encef치lico",
        "M칠dula espinal",
      ],
      optionsMatch: [
        "Coordina movimientos y equilibrio",
        "Regula la temperatura y el hambre",
        "Controla el ritmo card칤aco",
        "Transmite se침ales entre el cerebro y el cuerpo",
      ],
    },
    {
      type: "open",
      label:
        "Describe c칩mo el sistema nervioso interact칰a con el sistema muscular para generar movimiento.",
    },
    {
      type: "single_choice",
      label:
        "쮺u치l de los siguientes neurotransmisores es clave en la comunicaci칩n entre neuronas?",
      options: ["Adrenalina", "Dopamina", "Insulina", "Hemoglobina"],
    },
  ],
};

const { title, description, questions } = simulatedResponseApi;

let progressForm = 0;

//actualiza el estado de la barra de progreso
function setActualProgressForm(currentProgress: number) {
  progressForm = currentProgress;
}
---

<Layout title={title}>
  <main class="flex flex-col gap-6 items-center w-full py-6 px-2 max-h-full">
    <Card className="max-w-6xl w-full p-0">
      <CardHeader className="flex-row gap-4 p-0 pr-2">
        <img
          src={`/sistema-nervioso.webp`}
          transition:name="img-formulario-1"
          class="rounded-l-xl"
          width="130"
          alt="formulario-1"
        />
        <div class="py-2 space-y-2">
          <CardTitle className="font-title italic tracking-widest text-3xl">
            {title}
          </CardTitle>
          <CardDescription className="text-gray-700 text-sm flex gap-2">
            {description}
          </CardDescription>
          <div class="w-full bg-gray-200 rounded-full h-1 overflow-hidden">
            <div
              class="bg-blue-500 h-full transition-all duration-300"
              style={{ width: `${progressForm}%` }}
            >
            </div>
          </div>
        </div>
      </CardHeader>
    </Card>
    <FormReactIsland
      setProgress={setActualProgressForm}
      questions={questions}
      client:load
    />
    <Toaster client:load />
  </main>
</Layout>
